<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Android Apps - S∆∞u t·∫ßm</title>
  <style>
    body {
        font-family: Arial, sans-serif;
        background: #f9f9f9;
        color: #333;
        margin: 0;
        padding: 20px;
    }
    h1 {
        text-align: center;
        color: #222;
    }
    p.note {
        text-align: center;
        font-size: 16px;
        margin: 10px auto;
        color: #444;
        background: #eef4ff;
        display: block;
        width: fit-content;
        padding: 6px 12px;
        border-radius: 8px;
    }
    p.note a {
        color: #007bff;
        font-weight: bold;
        text-decoration: none;
    }
    p.note a:hover {
        text-decoration: underline;
    }
    #app-list {
        padding: 10px 0;
    }
    .card {
        max-width: 800px;
        margin: 30px auto;
        background: white;
        border-radius: 12px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        padding: 20px;
    }
    .section-title {
        margin-top: 0;
        margin-bottom: 15px;
        font-size: 20px;
        color: #222;
        border-bottom: 2px solid #007bff;
        padding-bottom: 5px;
    }
    .app-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid #eee;
        padding: 10px 0;
        gap: 12px;
    }
    .app-item:last-child {
        border-bottom: none;
    }
    .app-name {
        flex: 1;
        font-size: 17px;
        font-weight: 600;
        overflow: hidden;
        max-width: 70%;
        white-space: nowrap;
        position: relative;
    }
    .app-name span {
        display: inline-block;
        white-space: nowrap;
        transform: translateX(0);
    }
    /* ch·ªâ √°p d·ª•ng khi c·∫ßn ch·∫°y */
    .app-name.scrolling span {
        animation: scrollText 10s linear infinite;
    }
    /* t·∫°o kho·∫£ng ngh·ªâ 1 gi√¢y ·ªü cu·ªëi */
    @keyframes scrollText {
      0%, 15% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(-100%);
      }
    }
    .download-btn {
        flex-shrink: 0;              /* gi·ªØ k√≠ch th∆∞·ªõc c·ªë ƒë·ªãnh, kh√¥ng b·ªã √©p nh·ªè */
        background: #007bff;
        color: white;
        border: none;
        padding: 8px 14px;           /* v·ª´a v·∫∑n ch·ªØ */
        border-radius: 6px;
        cursor: pointer;
        text-decoration: none;
        font-size: 14px;
        text-align: center;
        white-space: nowrap;         /* kh√¥ng xu·ªëng d√≤ng */
        transition: background 0.2s ease, transform 0.1s ease-in-out;
    }
    .download-btn:hover {
        background: #0056b3;
        transform: scale(1.05);      /* ph√≥ng nh·∫π khi hover */
    }
    .app-info {
        display: flex;
        flex-direction: column;
        justify-content: center;
        gap: 4px;
    }
    .app-desc {
        font-style: italic;
        font-size: 13px;
        color: #666;
    }
  </style>
</head>
<body>
  <h1>üì± ·ª®ng d·ª•ng Android</h1>
  <p class="note">
    Blog c·ªßa ch√∫ng t√¥i: 
    <a href="https://mrdteam.blogspot.com" target="_blank">Mod ROM & Desktop</a>
  </p>
  <div id="apps-section" class="card">
    <div id="app-list">ƒêang t·∫£i danh s√°ch ·ª©ng d·ª•ng...</div>
  </div>
  <div id="external-section" class="card">
      <div id="external-list"></div>
  </div>

  <script>
  const username = "leephuc95"; // T√™n GitHub c·ªßa b·∫°n
  const repo = "leephuc95.github.io"; // T√™n repository
  const path = "apps"; // Th∆∞ m·ª•c ch·ª©a .apk

  // üü© Danh s√°ch li√™n k·∫øt ngo√†i (t√πy ch·ªânh)
  const externalApps = [
    {
      name: "ReVanced Manager",
      url: "https://revanced.app/download",
      desc: "Qu·∫£n l√Ω v√† V√° c√°c ·ª©ng d·ª•ng ƒë∆∞·ª£c h·ªó tr·ª£ t·ª´ Vanced"
    },
    {
      name: "SmartTube ATV",
      url: "https://github.com/yuliskov/SmartTube/releases",
      desc: "Youtube kh√¥ng qu·∫£ng c√°o d√†nh cho TV."
    },
    {
      name: "LocalSend",
      url: "https://localsend.org/download",
      desc: "G·ª≠i v√† nh·∫≠n t·ªáp v·ªõi t·∫•t c·∫£ h·ªá sinh th√°i trong c√πng m·∫°ng c·ª•c b·ªô."
    }
  ];

  async function loadApps() {
    const appListEl = document.getElementById("app-list");
    const extListEl = document.getElementById("external-list");
    appListEl.innerHTML = "ƒêang t·∫£i danh s√°ch ·ª©ng d·ª•ng...";

    try {
      // üîπ L·∫•y danh s√°ch file trong /apps/ b·∫±ng GitHub API
      const response = await fetch(`https://api.github.com/repos/${username}/${repo}/contents/${path}`);
      if (!response.ok) throw new Error("Kh√¥ng th·ªÉ t·∫£i danh s√°ch ·ª©ng d·ª•ng");
      const files = await response.json();

      // üîπ L·ªçc file .apk
      const apkFiles = files.filter(f => f.name.endsWith(".apk"));

      // üü¶ Hi·ªÉn th·ªã danh s√°ch app t·ª´ th∆∞ m·ª•c /apps/
      if (apkFiles.length > 0) {
        let html = `<div class="section-title">Kho l∆∞u tr·ªØ</div>`;
        html += apkFiles.map(file => `
          <div class="app-item">
            <div class="app-name"><span>${file.name.replace(".apk", "")}</span></div>
            <a class="download-btn" href="${file.download_url}" download>T·∫£i xu·ªëng</a>
          </div>
        `).join("");
        appListEl.innerHTML = html;
      } else {
        appListEl.innerHTML = `<p>Kh√¥ng t√¨m th·∫•y ·ª©ng d·ª•ng n√†o trong Kho l∆∞u tr·ªØ.</p>`;
      }

      // üü® Hi·ªÉn th·ªã li√™n k·∫øt ngo√†i ·ªü khung ri√™ng
      if (externalApps.length > 0) {
        let extHtml = `<div class="section-title">Li√™n k·∫øt t·∫£i t·ª´ ngu·ªìn kh√°c</div>`;
        extHtml += externalApps.map(app => {
          const descHtml = app.desc 
            ? `<div class="app-desc">${app.desc}</div>` 
            : "";
          return `
            <div class="app-item">
              <div class="app-info">
                <div class="app-name"><span>${app.name}</span></div>
                ${descHtml}
              </div>
              <a class="download-btn" href="${app.url}" target="_blank">T·∫£i v·ªÅ</a>
            </div>
          `;
        }).join("");
        extListEl.innerHTML = extHtml;
      } else {
        document.getElementById("external-section").style.display = "none";
      }

      // üß† T·ª± ƒë·ªông th√™m hi·ªáu ·ª©ng ch·∫°y ch·ªØ n·∫øu tr√†n
      document.querySelectorAll('.app-name').forEach(el => {
        const span = el.querySelector('span');
        if (span.scrollWidth > el.clientWidth) {
          el.classList.add('scrolling');
        }
      });

    } catch (err) {
      appListEl.innerHTML = `<p>L·ªói khi t·∫£i danh s√°ch ·ª©ng d·ª•ng.</p>`;
      console.error(err);
    }
  }

  loadApps();
</script>

</body>
</html>
